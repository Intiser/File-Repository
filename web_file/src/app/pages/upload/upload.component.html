<app-loading *ngIf="isLoading" ></app-loading>

<div fxLayoutAlign="center center" fxLayout="column">
    <form class="example-form" [formGroup]="formGroup">
        <h1 class="text-center">
            Upload File
        </h1>
            <div>
            
                <input formControlName="message" type="file" id="file" (change)="handleFileInput($event)">
            
            </div>
            <pre></pre>
            <div>
                <button [disabled]="!formGroup.valid" mat-raised-button color="primary" fxFlexFill (click)="upload()">Upload</button>
            </div>

    </form>

    <pre></pre>

    <div *ngIf="!(uploadedFile == null)" fxLayoutAlign="center center" fxLayout="column">
        <div>
            <h2 class="text-center">
                Download File 
            </h2>
        </div>
        <div>
            <span> {{ uploadedFile?.downloadLink }} </span>
        </div>

        <pre></pre>

        <button 
            mat-raised-button color="accent"
            (click)="copyText()"
             >Copy To Clipboard</button>

        <pre></pre>
        
        <mat-error *ngIf="copied">
            Text Copied To Clipboard!!
        </mat-error>
    </div>


</div>

<!-- [matTooltip]="message.value || ''" -->
